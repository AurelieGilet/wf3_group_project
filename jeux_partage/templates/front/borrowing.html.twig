{% extends 'base.html.twig' %}

{% block  title %}
    Emprunts
{% endblock %}

{% block body %}

	<h1 class="h1 mt-3 mb-4">Emprunter {{ game.name }}</h1>

	{% for message in app.flashes('success') %}
        <div class="col-lg-8 d-flex justify-content-center align-items-center mx-auto mb-3">
			<span class="bg-msg text-success font-italic rounded text-center mx-auto py-2 px-4">
        		{{message}}
			</span>
        </div>
    {% endfor %}

	<div class="col-md-11 mx-auto py-3">
		<div class="row justify-content-between align-items-center">
			<div id="photo" class="col-md-5 text-center">
				<img src="{{ asset('uploads/images/' ~ game.image)}}" alt="{{game.name}}">
			</div>
			<div class="col-md-7 p-3 d-flex flex-column justify-content-beetween align-items-center">
				<p class="card-text my-sm-3 my-2"><span>Catégorie :</span> {{game.category.name}}</p>
				<p class="card-text my-sm-3 my-2"><span>Age :</span> {{game.public}}</p>
				<p class="card-text my-sm-3 my-2"><span>Nombre de joueurs :</span> {{game.minPlayers}} {% if game.maxPlayers != NULL and game.maxPlayers != game.minPlayers %} à {{game.maxPlayers}} {% endif %}</p>
				<p class="card-text my-sm-3 my-2"><span>Ville de location :</span> {{game.owner.city}}</p>
			</div>
		</div>
		<p class="p-1 pt-3 px-lg-4"><span style="text-decoration: underline;">Règle du jeu :</span> {{game.description|nl2br}}</p>
	</div>

	<p class="card-text mt-4 mb-3 px-3 text-center font-italic">Les jeux sont empruntables pour une durée de <span style="text-decoration: underline;">1 mois maximum</span></p>

	<section class="row justify-content-center">
		<div class="col-md-10">
			{{ form_start(form, {'attr' : {'class': 'col-md-12 mx-auto py-3 row justify-content-around align-items-center' }}) }}
				
				<p class="card-text col-lg-4 text-center my-2">L'emprunt commence le : <span style="font-weight: bold; text-decoration: none;">{{ startDate|date("d/m/Y") }}</span></p>
				<p class="card-text col-lg-4 text-center my-2">A rendre au plus tard le : <span style="font-weight: bold; text-decoration: none;">{{ endDate|date("d/m/Y") }}</span></p>

				{{ form_row(form.save, {'label' : "Emprunter", 'attr' : {'class': 'btn-jp mx-auto mt-4'}}) }}

			{{ form_end(form) }}
		</div>
	</section>

{% endblock %}
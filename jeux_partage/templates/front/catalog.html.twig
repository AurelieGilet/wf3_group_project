{% extends "base.html.twig" %}

{% block title %}Catalogue{% endblock %}

{% block body %}

	<h1 class="h1 mt-3 mb-4">Catalogue des Jeux</h1>

	<div class="row align-item-center">
		<div class="card-deck">

		{% for game in games %}

			<div class="size-card col-md-6 col-lg-4 py-3 px-1">
				<div class="card mb-4 h-100 shadow border-dark">
					<div id="photo">
						<img class="card-img-top" src="{{ asset('uploads/images/' ~ game.image) }}" alt="{{game.name}}">
					</div>
					<div class="card-body">
						<h4 class="text-center size-game-name">{{game.name}}</h4>
						
						<hr class="my-2">
						<p class="card-text pl-2"><span>Catégorie :</span> {{game.category.name}}</p>
						<hr class="my-2">
						<p class="card-text pl-2"><span>Age :</span> {{game.public}}</p>
						<hr class="my-2">
						<p class="card-text pl-2"><span>Nombre de joueurs :</span> {{game.minPlayers}} {% if game.maxPlayers != NULL and game.maxPlayers != game.minPlayers %} à {{game.maxPlayers}} {% endif %}</p>
						<hr class="my-2">
						<p class="card-text pl-2"><span>Ville :</span> {{game.owner.city}}</p>
						<hr class="my-2">
						<p class="card-text pl-2"><span>Statut :</span> {% if game.id in gamesId %} <span class="text-danger font-weight-bold" style="text-decoration: none;">Indisponible</span> {% else %} <span class="text-success font-weight-bold" style="text-decoration: none;">Disponible</span> {% endif %} </p>
					</div>
					<div class="card-footer d-flex justify-content-around align-items-center">
						<a href="{{ path('detail', {'id': game.id}) }}" class="btn-jp btn-card size-button">Voir</a>
						{% if game.id in gamesId %} 
						<a href="" class="btn-jp btn-card ml-2">Réserver</a>
						{% else %}
						<a href="{{ path('borrowing', {'id': game.id}) }}" class="btn-jp btn-card ml-2">Emprunter</a>
						{% endif %} 
					</div>
				</div>
			</div>

		{% endfor %}
		</div>
	</div>

{% endblock %}
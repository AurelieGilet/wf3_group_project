{% extends 'base.html.twig' %}

{% block  title %}
    Connexion
{% endblock %}

{% block body %}

	<h1 class="h1 mt-3 mb-4">Connexion</h1>

	{% for message in app.flashes('success') %}
        <div class="col-md-3 bg-success p-4 rounded mx-auto text-center text-white mb-3">
        {{message}}
        </div>
    {% endfor %}

	{% if error %}
		<div class="col-md-3 bg-danger p-4 rounded mx-auto text-center text-white mb-3">
            {{error.messageKey | trans(error.messageData, 'security') }}
        </div>
	{% endif %}

	<form method="post" class="col-md-10 mx-auto py-4" action="{{ path('security_login') }}">
        <div class="row justify-content-around">
            <div class="form-group col-lg-5">
                <label class="label" for="username">Email</label>
                <input type="email" class="form-control" id="username" name="_username" value="{{lastUsername}}" placeholder="Adresse e-mail">
            </div>
            <div class="form-group col-lg-5">
                <label class="label" for="password">Mot de passe</label>
                <input type="password" class="form-control" id="password" name="_password" placeholder="Mot de passe">
            </div>
            
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
        </div>

		<p class="label p_login">Pas encore de compte ? Inscrivez-vous <a href="{{ path('security_registration') }}" class="font-weight-bold" id="ici">ici</a></p>
            
        <div class="row justify-content-around">
            <div class="col-12 mx-auto row justify-content-around">
                <button type="submit" class="btn-jp mx-auto mt-4 mb-3">Connexion</button>
            </div>
        </form>	
    </div>    
</section>
{% endblock %}